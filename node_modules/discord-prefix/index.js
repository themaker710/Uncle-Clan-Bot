const db = require('./handler')

module.exports.getPrefix = (guildID) => {
    if (!guildID) {
        return db.get('defaultPrefix')
    } else {
        return db.get(`${guildID}`)
    }
}

module.exports.setPrefix = (prefix, guildID) => {
    if (typeof prefix !== 'string') {
        throw new TypeError('Prefix must be of type string')
    }
    if (!prefix) {
        throw new TypeError('You must speecify a value for the prefix')
    }
    if (!guildID) {
        return db.set('defaultPrefix', prefix)
    } else {
        return db.set(`${guildID}`, prefix)
    }
}

module.exports.getPrefixes = () => {
    return db.all()
}

module.exports.removePrefix = (guildID) => {
    if (!guildID) {
        return db.delete('defaultPrefix')
    } else {
        return db.delete(guildID)
    }
}